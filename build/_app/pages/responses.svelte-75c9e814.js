import{S as e,i as t,s,k as n,e as l,P as a,d as r,n as c,c as i,a as o,b as d,f as u,G as h,R as f,t as m,g,F as v,h as p,T as x}from"../chunks/vendor-57fbb124.js";function b(e,t,s){const n=e.slice();return n[3]=t[s],n}function E(e,t,s){const n=e.slice();return n[6]=t[s],n}function V(e){let t,s,a,h,f,E,V,D,I,w,y,$,k,B,j,F,L,z,K,M=e[2].pescatarian+"",A=e[2].meat+"",G=e[2].vegan+"",H=e[0],P=[];for(let n=0;n<H.length;n+=1)P[n]=C(b(e,H,n));return{c(){t=l("div"),s=l("div"),a=l("div"),h=l("div"),f=m(e[1]),E=m(" gestir:"),V=n(),D=l("div"),I=m(M),w=m(" Fiskur"),y=n(),$=l("div"),k=m(A),B=m(" Kjöt"),j=n(),F=l("div"),L=m(G),z=m(" Vegan"),K=n();for(let e=0;e<P.length;e+=1)P[e].c();this.h()},l(n){t=i(n,"DIV",{class:!0});var l=o(t);s=i(l,"DIV",{class:!0});var d=o(s);a=i(d,"DIV",{class:!0});var u=o(a);h=i(u,"DIV",{class:!0});var m=o(h);f=g(m,e[1]),E=g(m," gestir:"),m.forEach(r),V=c(u),D=i(u,"DIV",{class:!0});var v=o(D);I=g(v,M),w=g(v," Fiskur"),v.forEach(r),y=c(u),$=i(u,"DIV",{class:!0});var p=o($);k=g(p,A),B=g(p," Kjöt"),p.forEach(r),j=c(u),F=i(u,"DIV",{class:!0});var x=o(F);L=g(x,G),z=g(x," Vegan"),x.forEach(r),u.forEach(r),K=c(d);for(let e=0;e<P.length;e+=1)P[e].l(d);d.forEach(r),l.forEach(r),this.h()},h(){d(h,"class","mr-2"),d(D,"class","inline-flex items-center p-1 px-2.5 mr-2 rounded-full text-xs font-medium bg-blue-100 text-blue-600"),d($,"class","inline-flex items-center p-1 px-2.5 mr-2 rounded-full text-xs font-medium bg-red-100 text-red-600"),d(F,"class","inline-flex items-center p-1 px-2.5 mr-2 rounded-full text-xs font-medium bg-green-100 text-green-600"),d(a,"class","mb-6 flex items-center"),d(s,"class","mx-auto max-w-xl"),d(t,"class","")},m(e,n){u(e,t,n),v(t,s),v(s,a),v(a,h),v(h,f),v(h,E),v(a,V),v(a,D),v(D,I),v(D,w),v(a,y),v(a,$),v($,k),v($,B),v(a,j),v(a,F),v(F,L),v(F,z),v(s,K);for(let t=0;t<P.length;t+=1)P[t].m(s,null)},p(e,t){if(2&t&&p(f,e[1]),4&t&&M!==(M=e[2].pescatarian+"")&&p(I,M),4&t&&A!==(A=e[2].meat+"")&&p(k,A),4&t&&G!==(G=e[2].vegan+"")&&p(L,G),1&t){let n;for(H=e[0],n=0;n<H.length;n+=1){const l=b(e,H,n);P[n]?P[n].p(l,t):(P[n]=C(l),P[n].c(),P[n].m(s,null))}for(;n<P.length;n+=1)P[n].d(1);P.length=H.length}},d(e){e&&r(t),x(P,e)}}}function D(e){let t;return{c(){t=m("Loading")},l(e){t=g(e,"Loading")},m(e,s){u(e,t,s)},p:h,d(e){e&&r(t)}}}function I(e){let t,s,a,h,x,b,E,V,D,I=e[6].name+"";return{c(){t=l("div"),s=l("div"),a=f("svg"),h=f("circle"),b=n(),E=l("div"),V=m(I),D=n(),this.h()},l(e){t=i(e,"DIV",{class:!0});var n=o(t);s=i(n,"DIV",{class:!0});var l=o(s);a=i(l,"svg",{class:!0,fill:!0,viewBox:!0},1);var d=o(a);h=i(d,"circle",{cx:!0,cy:!0,r:!0},1),o(h).forEach(r),d.forEach(r),l.forEach(r),b=c(n),E=i(n,"DIV",{class:!0});var u=o(E);V=g(u,I),u.forEach(r),D=c(n),n.forEach(r),this.h()},h(){d(h,"cx","4"),d(h,"cy","4"),d(h,"r","3"),d(a,"class","h-2.5 w-2.5"),d(a,"fill","currentColor"),d(a,"viewBox","0 0 8 8"),d(s,"class",x=`inline-flex items-center p-1 rounded-full text-xs font-medium ${"meat"==e[6].diet&&"bg-red-100 text-red-600"} ${"pescatarian"==e[6].diet&&"bg-blue-100 text-blue-600"} ${"vegan"==e[6].diet&&"bg-green-100 text-green-600"}`),d(E,"class","font-semibold inline ml-1.5"),d(t,"class","flex items-center")},m(e,n){u(e,t,n),v(t,s),v(s,a),v(a,h),v(t,b),v(t,E),v(E,V),v(t,D)},p(e,t){1&t&&x!==(x=`inline-flex items-center p-1 rounded-full text-xs font-medium ${"meat"==e[6].diet&&"bg-red-100 text-red-600"} ${"pescatarian"==e[6].diet&&"bg-blue-100 text-blue-600"} ${"vegan"==e[6].diet&&"bg-green-100 text-green-600"}`)&&d(s,"class",x),1&t&&I!==(I=e[6].name+"")&&p(V,I)},d(e){e&&r(t)}}}function w(e){let t,s,n=e[3].comment+"";return{c(){t=l("div"),s=m(n),this.h()},l(e){t=i(e,"DIV",{class:!0});var l=o(t);s=g(l,n),l.forEach(r),this.h()},h(){d(t,"class","text-sm my-2 px-2 py-1.5 rounded-lg rounded-bl-none inline-block bg-gray-100")},m(e,n){u(e,t,n),v(t,s)},p(e,t){1&t&&n!==(n=e[3].comment+"")&&p(s,n)},d(e){e&&r(t)}}}function C(e){let t,s,a,h,b,V,D,C,y,$,k,B,j,F=e[3].email+"",L=e[3].guests,z=[];for(let n=0;n<L.length;n+=1)z[n]=I(E(e,L,n));let K=e[3].comment&&w(e);return{c(){t=l("div"),s=l("div");for(let e=0;e<z.length;e+=1)z[e].c();a=n(),h=l("div"),b=l("div"),V=f("svg"),D=f("path"),C=f("path"),y=n(),$=l("div"),k=m(F),B=n(),K&&K.c(),j=n(),this.h()},l(e){t=i(e,"DIV",{class:!0});var n=o(t);s=i(n,"DIV",{class:!0});var l=o(s);for(let t=0;t<z.length;t+=1)z[t].l(l);l.forEach(r),a=c(n),h=i(n,"DIV",{});var d=o(h);b=i(d,"DIV",{class:!0});var u=o(b);V=i(u,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0},1);var f=o(V);D=i(f,"path",{d:!0},1),o(D).forEach(r),C=i(f,"path",{d:!0},1),o(C).forEach(r),f.forEach(r),y=c(u),$=i(u,"DIV",{class:!0});var m=o($);k=g(m,F),m.forEach(r),u.forEach(r),B=c(d),K&&K.l(d),d.forEach(r),j=c(n),n.forEach(r),this.h()},h(){d(s,"class","mb-2"),d(D,"d","M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"),d(C,"d","M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"),d(V,"class","flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400"),d(V,"xmlns","http://www.w3.org/2000/svg"),d(V,"viewBox","0 0 20 20"),d(V,"fill","currentColor"),d(V,"aria-hidden","true"),d($,"class","text-sm text-gray-500"),d(b,"class","flex items-center"),d(t,"class","border-b pb-4 mb-4")},m(e,n){u(e,t,n),v(t,s);for(let t=0;t<z.length;t+=1)z[t].m(s,null);v(t,a),v(t,h),v(h,b),v(b,V),v(V,D),v(V,C),v(b,y),v(b,$),v($,k),v(h,B),K&&K.m(h,null),v(t,j)},p(e,t){if(1&t){let n;for(L=e[3].guests,n=0;n<L.length;n+=1){const l=E(e,L,n);z[n]?z[n].p(l,t):(z[n]=I(l),z[n].c(),z[n].m(s,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=L.length}1&t&&F!==(F=e[3].email+"")&&p(k,F),e[3].comment?K?K.p(e,t):(K=w(e),K.c(),K.m(h,null)):K&&(K.d(1),K=null)},d(e){e&&r(t),x(z,e),K&&K.d()}}}function y(e){let t,s;function f(e,t){return 0===e[0].length?D:V}let m=f(e),g=m(e);return{c(){t=n(),s=l("div"),g.c(),this.h()},l(e){a('[data-svelte="svelte-1i0y6tl"]',document.head).forEach(r),t=c(e),s=i(e,"DIV",{class:!0});var n=o(s);g.l(n),n.forEach(r),this.h()},h(){document.title="Brúðkaupsgestir",d(s,"class","rounded-lg shadow-lg m-2 sm:m-4 p-4 sm:p-12 bg-white")},m(e,n){u(e,t,n),u(e,s,n),g.m(s,null)},p(e,[t]){m===(m=f(e))&&g?g.p(e,t):(g.d(1),g=m(e),g&&(g.c(),g.m(s,null)))},i:h,o:h,d(e){e&&r(t),e&&r(s),g.d()}}}const $=!0;async function k({page:e,fetch:t,session:s,context:n}){const l=await t("/api/responses");let a=0,r={pescatarian:0,meat:0,vegan:0};return responses=await l.json(),responses.forEach((e=>{a+=e.guests.length,e.guests.forEach((e=>{r[e.diet]+=1}))})),{props:{responses:responses,guestCount:a,dietCounts:r}}}function B(e,t,s){let{responses:n}=t,{guestCount:l}=t,{dietCounts:a}=t;return e.$$set=e=>{"responses"in e&&s(0,n=e.responses),"guestCount"in e&&s(1,l=e.guestCount),"dietCounts"in e&&s(2,a=e.dietCounts)},[n,l,a]}export default class extends e{constructor(e){super(),t(this,e,B,y,s,{responses:0,guestCount:1,dietCounts:2})}}export{k as load,$ as prerender};
